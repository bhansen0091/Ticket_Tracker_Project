<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% comment %}
    <!-- CSS only -->
    {% endcomment %}
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
        crossorigin="anonymous">
    <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Dashboard</title>
    <style>
        * {
            /* outline: 1px dashed red; */
        }
    </style>
</head>

<body>
    <header class="row align-items-start bg-light border mb-2 ps-3">
        <h1 class="col-2">Tracker</h1>
        <nav class="col-9 navbar navbar-expand-lg navbar-dark bg-dark rounded">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNavDropdown"
                    aria-controls="navbarNavDropdown" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page"
                                href="/tasks/new">New Project</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Projects to Join</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Contributors</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#"
                                id="navbarDropdownMenuLink" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                Edit Project
                            </a>
                            <ul class="dropdown-menu"
                                aria-labelledby="navbarDropdownMenuLink">
                                <li><a class="dropdown-item" href="#">Edit Task
                                        Goal</a></li>
                                <li><a class="dropdown-item" href="#">Add New
                                        Sub Task</a></li>
                                <li><a class="dropdown-item" href="#">Edit
                                        Existing Sub Task</a></li>
                                <li><a class="dropdown-item" href="#">Delete Sub
                                        Task</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    {% comment %}
    <!-- ! End of header -->
    {% endcomment %}
<div class="container-fluid d-flex">
    <div class="col-2 p-2">
        
        <ul class=" nav nav-tabs-stacked d-flex flex-column" aria-orientation="vertical">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page"
                    href="/tasks/new">New Project</a>
            </li>
            <hr>
        {% for task in tasks %}
            <li><a href="{{task.id}}"  >{{task.name}}</a></li>
        {% endfor %}
        </ul>
    </div>

    <div class="col-9 tab-content">

            <div id="{{current_task.id}}" class="tab-panel in active">

                <main class="col-8 d-inline-block border p-2">
                    <div class="col">
                        <h2>{{current_task.name}}</h2>
                        
                        <div class="accordion" id="accordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="heading{{task.id}}">
                                    <button class="accordion-button" type="button"
                                        data-bs-toggle="collapse"
                                        data-bs-target="#collapse{{task.id}}" aria-expanded="true"
                                        aria-controls="collapse{{task.id}}">
                                        Task-Name
                                    </button>
                                </h2>
                                <div id="collapse{{task.id}}"
                                    class="accordion-collapse collapse show"
                                    aria-labelledby="heading{{task.id}}"
                                    data-bs-parent="#accordion">
                                    <div class="accordion-body">
                                        <div class="progress">
                                            <div class="progress-bar w-75"
                                                role="progressbar" aria-valuenow="75"
                                                aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                        <h3>{Main task}</h3>
                                        {% comment %}
                                        <!--todo: Add contents  -->
                                        {% endcomment %}
                                        <p>Stuff</p>
                                    </div>
                                    <hr>
                                    {% comment %}
                                    <!--! inner accordion -->
                                    {% endcomment %}
                                    <div class="col-11 mx-auto">
                                        {% comment %}
                                        <!--todo: {% for subtasks in task %} -->
                                        {% endcomment %}
                                        <div class="accordion " id="SUBaccordion">
                                            <div class="accordion-item">
                                                {% comment %}
                                                <!-- todo: Add sub-progress bar here -->
                                                {% endcomment %}
                                                <h2 class="accordion-header"
                                                    id="SUBheadingOne">
                                                    <button class="accordion-button "
                                                        type="button"
                                                        data-bs-toggle="collapse"
                                                        data-bs-target="#SUBcollapseOne"
                                                        aria-expanded="true"
                                                        aria-controls="SUBcollapseOne">
                                                        {Sub-Task}
                                                    </button>
                                                </h2>
                                                <div id="SUBcollapseOne"
                                                    class="accordion-collapse collapse show"
                                                    aria-labelledby="SUBheadingOne"
                                                    data-bs-parent="#SUBaccordion">
                                                    <div class="accordion-body">
                                                        <div class="progress">
                                                            <div class="progress-bar w-75"
                                                                role="progressbar"
                                                                aria-valuenow="75"
                                                                aria-valuemin="0"
                                                                aria-valuemax="100"></div>
                                                        </div>
                                                        <h4>{Sub-task}</h4>
                                                        {% comment %}
                                                        <!--todo: add checklist here -->
                                                        {% endcomment %}
                                                        <ul>
                                                            <li>check list here</li>
                                                            <li>check list here</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% comment %}
                                        <!--todo: {% endfor %} -->
                                        {% endcomment %}
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% comment %}
                        <!--todo: {% endfor %} -->
                        {% endcomment %}
                    </div>
                </main>
            </div>


    </div>


</div>




    </div>
    <footer class="row align-items-start border fixed-bottom">
        <div class="col navbar navbar-expand-lg navbar-dark bg-dark rounded">
        </div>
    </footer>

    <!-- JavaScript Bundle with Popper -->
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
</body>

</html>